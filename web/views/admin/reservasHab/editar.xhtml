<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Editar Reserva de Habitación</title>
     <h:outputStylesheet library="bootstrap" name="css/bootstrap.min.css" />
</h:head>

<h:body>
    <h2>Editar Reserva</h2>

    <h:form id="editReservaForm">

        <p:messages autoUpdate="true" />

        <!-- Selección de Cliente -->
        <p:outputLabel for="cliente" value="Cliente:" />
        <p:selectOneMenu id="cliente" value="#{reservaHabitacionBean.reserva.idCliente}" required="true">
            <f:selectItem itemLabel="Seleccione un cliente" itemValue="" />
            <f:selectItems value="#{reservaHabitacionBean.clientes}" var="cliente"
                           itemLabel="#{cliente.nombre} #{cliente.apellido}"
                           itemValue="#{cliente.idCliente}" />
        </p:selectOneMenu>

        <!-- Selección de Habitación -->
        <p:outputLabel for="habitacion" value="Habitación:" />
        <p:selectOneMenu id="habitacion" value="#{reservaHabitacionBean.reserva.idHabitacion}" required="true">
            <f:selectItem itemLabel="Seleccione una habitación" itemValue="" />
            <f:selectItems value="#{reservaHabitacionBean.habitaciones}" var="habitacion"
                           itemLabel="Hab. #{habitacion.numeroHabitacion} (Capacidad: #{habitacion.capacidad})"
                           itemValue="#{habitacion.idHabitacion}" />
        </p:selectOneMenu>

        <!-- Fecha de Reserva -->
        <p:outputLabel for="fecha" value="Fecha:" />
        <p:calendar id="fecha" value="#{reservaHabitacionBean.reserva.fechaReserva}" pattern="yyyy-MM-dd" required="true" />

        <!-- Hora de Reserva -->
        <p:outputLabel for="hora" value="Hora:" />
        <p:calendar id="hora" value="#{reservaHabitacionBean.reserva.horaReserva}" pattern="HH:mm" timeOnly="true" required="true" />

        <!-- Número de Personas -->
        <p:outputLabel for="numeroPersonas" value="Número de Personas:" />
        <p:spinner id="numeroPersonas" value="#{reservaHabitacionBean.reserva.numeroPersonas}" min="1" required="true" />

        <!-- Estado de la reserva -->
        <p:outputLabel for="estado" value="Estado:" />
        <p:selectOneMenu id="estado" value="#{reservaHabitacionBean.reserva.estadoReserva}" required="true">
            <f:selectItem itemLabel="Pendiente" itemValue="pendiente" />
            <f:selectItem itemLabel="Confirmada" itemValue="confirmada" />
            <f:selectItem itemLabel="Cancelada" itemValue="cancelada" />
        </p:selectOneMenu>

        <!-- Activo -->
        <p:outputLabel for="activo" value="Activo:" />
        <p:selectOneMenu id="activo" value="#{reservaHabitacionBean.reserva.activo}" required="true">
            <f:selectItem itemLabel="Sí" itemValue="true" />
            <f:selectItem itemLabel="No" itemValue="false" />
        </p:selectOneMenu>

        <!-- Botones -->
        <div class="mt-3">
            <p:commandButton value="Actualizar" actionListener="#{reservaHabitacionBean.actualizarReserva}" update="@form" icon="pi pi-check" />
            <p:commandButton value="Cancelar" action="reservas-habitacion.xhtml?faces-redirect=true" icon="pi pi-times" />
        </div>

    </h:form>
    <h:outputScript library="bootstrap" name="js/bootstrap.bundle.min.js" />
</h:body>
</html>
